Ext.define('MyDesktop.grid.GridRutaRecoleccion', {    extend: 'Ext.grid.Panel',    requires: [               'Ext.grid.column.Action',               'Ext.grid.plugin.CellEditing',               'Ext.form.field.Text',               'Ext.toolbar.TextItem'           ],    stateful: true,    collapsible: false,    multiSelect: true,    viewConfig: {        stripeRows: true,        enableTextSelection: true    },	id:undefined,	iddocumento:'',	tiporecol:undefined,	columnas:undefined,    initComponent: function () {		var myscope = this;		this.store = Ext.create('MyDesktop.store.StorePlaza',{			  autoLoad: true,			proxy: {		        type: 'ajax',		        api: {		            read: '../manifiestorutas/getDatosTotalesRuta'		        },		        reader: {		                 type: 'json',		                 successProperty: 'success',		                 root : 'proxiArray',		                 messageProperty: 'message',		                 totalProperty : 'totalCount',		        }			}					});		//Columnas por default		 this.columns = [					{						menuDisabled: true,	sortable: false,						xtype: 'actioncolumn',	width: 40,						items: [							{								getClass: function(v, meta, rec) {									return 'ruta_blue' ;								},								getTip: function(v, meta, rec) {									//return 'CANCELADA' ;								},								handler: function(grid, rowIndex, colIndex) {																	}							}						]					},		                 {text : 'Ruta',width: 150,sortable : true,dataIndex: 'idruta'},		                 {text : 'Cantidad',width: 90,sortable : true,dataIndex: 'total'}			];       			this.callParent();    },      refresInfoRutas:function(siglas){    	this.getStore().reload({			params:{				siglas:siglas			},			callback:function(r,options,success){				 if (r.length<=0){					 Ext.Msg.show({						 title: 'Aviso',						 msg: 'No existe información con el criterio de busqueda selecionado.',						 modal: false,						 icon: Ext.Msg.INFO,						 buttons: Ext.Msg.OK											 });  									 }			 }	  		});    },	getRowSelected:function(){		var rows =  this.getView().getSelectionModel().getSelection();		if(rows.length >=1){			return rows[0];		}		return undefined;	},	getRows:function(){		var rows =  this.getView().getSelectionModel().getSelection();		if(rows.length >=1){			return rows;		}		return undefined;	}});