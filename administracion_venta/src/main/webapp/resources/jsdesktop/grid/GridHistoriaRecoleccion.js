Ext.define('MyDesktop.grid.GridHistoriaRecoleccion', {    extend: 'Ext.grid.Panel',    stateful: true,    collapsible: false,    multiSelect: true,    stateId: 'stateGridHistoriaRecoleccion',    viewConfig: {        stripeRows: true,        enableTextSelection: true    },	id:undefined,	iddocumento:'',	columnas:undefined,    initComponent: function () {		this.myScope = this;		this.store = Ext.create('MyDesktop.store.StoreHistoria',				{			 		autoLoad: true,					proxy: {				        type: 'ajax',				        api: {				            read: '../solicitudrecoleccion/obtenerHistoria?idsolicitud='+ 				            this.iddocumento +'&idrecoleccion='+this.iddocumento				        },				        reader: {				                 type: 'json',				                 successProperty: 'success',				                 root : 'proxiArray',				                 messageProperty: 'message',				                 totalProperty : 'totalCount',				        },				        writer: {				            	 type: 'json',				                 writeAllFields: true,				                 encode: false,				                 root: 'proxiArray'				        }					}				}				);						if (this.columnas!=undefined){			this.columns=this.columnas; 					}else{			//Columnas por default			 this.columns = [								{text     : 'Movimiento',width: 180,sortable : false,dataIndex: 'tiDescripcion'								},								{text     : 'Fecha',width: 170,sortable : false,dataIndex: 'fecha'},								{text     : 'Excepcion',width: 150,sortable : false,dataIndex: 'claveLogistica', hidden:true},								{text     : 'Plaza',width: 50,sortable : false,dataIndex: 'siglasplaza'},								{text     : 'Ruta',width: 70,sortable : false,dataIndex: 'ruta'},								{text     : 'Empleado',width: 100,sortable : false,dataIndex: 'empleado'},								{text     : 'Motivo',width: 150,sortable : false,dataIndex: 'motivo'},								{text     : 'Quien Rechaza',width: 150,sortable : false,dataIndex: 'quienrechaza', hidden:true},													];		}		       			this.callParent();    },		loadInfo:function(){		this.getView().getStore().load();		},    buscar:function(parametros){    	if (parametros==undefined){    		parametros={};    	}		this.getView().getStore().reload(					{						params:parametros,						callback:function(r,options,success){							 if (r.length<=0){								 Ext.Msg.show({									 title: 'Aviso',									 msg: 'No existe informaciÃ³n con el criterio de busqueda selecionado.',									 modal: false,									 icon: Ext.Msg.INFO,									 buttons: Ext.Msg.OK														 });  															 }						 }	  					});		},	});