Ext.define('MyDesktop.grid.GridAdicionalPreFactura', {	extend : 'Ext.grid.Panel',	requires : [ 'Ext.grid.column.Action', 'Ext.grid.plugin.CellEditing',			'Ext.form.field.Text', 'Ext.toolbar.TextItem' ],	stateful : true,	collapsible : false,	multiSelect : true,	stateId : 'stateGridAdicionalPreFactura',	viewConfig : {		stripeRows : true,		enableTextSelection : true	},	uuid : undefined,	idregistro : undefined,	id : undefined,	isConsulta : false,	myScope : undefined,	uuid : undefined,	idregistro : undefined,	mystore : undefined,	initComponent : function() {		var store_sino = Ext.create('MyDesktop.store.StoreSINO', {});				this.myScope = this;				this.store = Ext.create('MyDesktop.store.StoreAdicionalesPreFactura', {			baseParams : {				idregistro : this.idregistro			}		});				this.store.getProxy().setExtraParam("iddocumento", this.idregistro);				if(!this.isConsulta){					this.editing = Ext.create('Ext.grid.plugin.CellEditing', {				clicksToEdit : 1			});						this.plugins = this.editing;						this.selModel = Ext.create('Ext.selection.CheckboxModel', {					mode : 'SINGLE',					checkOnly : 'true',					allowDeselect : true,				})					}		this.columns = [		{			text : field_descripcion,			width : 80,			sortable : true,			hidden : true,			dataIndex : 'idregistroadicional'		}, {			text : field_descripcion,			width : 80,			sortable : true,			hidden : true,			dataIndex : 'idadicional'		}, {			text : field_descripcion,			width : 190,			sortable : true,			dataIndex : 'descripcion',			field : {				xtype : 'myUpperCaseTextField',				maxLength : 30,				minLength : 1,				required : false,				disabled : true,				enforceMaxLength : true			}		}, {			text : field_precio,			width : 85,			sortable : true,			dataIndex : 'precio',			align : 'right',			renderer : 'usMoney',			editor : {				xtype : 'numberfield',				value : 1.0,				maxValue : 9999.99,				allowDecimals : true,				decimalPrecision : 2,				decimalSeparator : '.',				thousandSeparator : ',',				required : true,				minValue : 0.0			}		}		];		this.callParent();	},	showDetails : function() {		var rows = this.getView().getSelectionModel().getSelection();		if (rows.length <= 0) {			Ext.Msg.alert('Verificar',					"Debe de Seleccionar solo un registro para visualizar");			return;		}		if (rows.length > 1) {			Ext.Msg.alert('Verificar',					"Seleccione solamente un registro a visualizar");			return;		}	},	loadInfo : function() {		this.getView().getStore().load();	},	commitInfo : function() {		this.getView().getStore().save();		this.getView().getStore().commitChanges();	},	saveInfo : function() {		this.getView().getStore().save();		this.getView().getStore().commitChanges();		this.loadInfo();	},	getRowsSelected : function() {		return this.getView().getSelectionModel().getSelection();	},	setUUIDIdRegistro : function(uuid, idregistro) {		this.uuid = uuid;		this.idregistro = ideregistro;	}});