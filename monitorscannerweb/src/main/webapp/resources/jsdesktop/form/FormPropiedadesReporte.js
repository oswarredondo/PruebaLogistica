Ext.define('MyDesktop.form.FormPropiedadesReporte', { extend: 'Ext.form.Panel',    xtype: 'formPropiedadesReporte-form',    frame: false,    width: 400,    layout: 'anchor',    border: false,    bodyPadding: 10,    fieldDefaults: {        labelAlign: 'top',        labelWidth: 100,        labelStyle: 'font-weight:bold'    },	showReadOnly:false,    defaults: {        anchor: '100%',        margins: '0 0 10 0'    },	forma: undefined,	myscope:undefined,	operacion:undefined,	main_window:undefined,	uuid:undefined,	idregistro:undefined,	//indica el sufijo que debe tener el nombre del campo, esto sirve apara poder identificar remy destino	sufijo:'', 	autoScroll:true,	jsonData:undefined,		initComponent: function () {		this.callParent();	},       	updateCampos:function(record){		//alert(Ext.getCmp(this.id));		var fields = Ext.getCmp(this.id).getForm().getFields( ) ;		this.updateFieldName(record,fields);							},	updateFieldName:function(record, fields){		var items = fields.items;		var valor ="";		for(i = 0; i < items.length; i++){			field = items[i];			if (field!=undefined){				if (field.getName()!=undefined){					//busca el nombre del campo que debe ser el mismo del nombre del campo de 					//la forma					valor = record.get(field.getName());					if (valor!=undefined){						//alert('Campo:' + field.getName() + ', valor:' +valor);						field.setValue(valor);					}else{						field.setValue("");					}								}			}		}	},	updateFieldReadOnly:function(record){			//alert(Ext.getCmp(this.id));		var fields = Ext.getCmp(this.id).getForm().getFields( ) ;				var items = fields.items;		var valor ="";		for(i = 0; i < items.length; i++){			field = items[i];			if (field!=undefined){				if (field.getName()!=undefined){					field.setReadOnly(true);								}			}		}				this.updateCampos(record);	},			updateFieldCte:function(valor, campo){		var fields = Ext.getCmp(this.id).getForm().getFields( ) ;				var items = fields.items;		for(i = 0; i < items.length; i++){			field = items[i];			if (field!=undefined){				if ((field.getName()!=undefined) && (field.getName()==campo)){					field.setValue(valor);								}			}		}	},		/****	 * Devuelve los valores de todos los campo	 */	getValueFields:function(){		var fields = Ext.getCmp(this.id).getForm().getFields( ) ;		var valor = '';		var items = fields.items;		var valorporpiedades = '';		for(i = 0; i < items.length; i++){			field = items[i];			if (field!=undefined){				valorporpiedades= valorporpiedades +"|"+ field.getValue();			}		}		return valorporpiedades;	},	getValueFieldsURL:function(){		var fields = Ext.getCmp(this.id).getForm().getFields( ) ;		var items = fields.items;		var valorporpiedades="";		 for(i=0;i<this.jsonData.length;i++){			for(ii = 0; ii < items.length; ii++){					field = items[ii];					if (field!=undefined){						if (this.jsonData[i].data.name == field.getName()){							 if (this.jsonData[i].data.xtype == 'checkboxfield'){								 valorporpiedades= valorporpiedades+field.getName() +"="+ field.getValue() +"&";							 }else if (this.jsonData[i].data.xtype == 'datefield'){																var  fecha  =  Ext.util.Format.date(field.getValue(),'Y-m-d')								valorporpiedades= valorporpiedades+field.getName() +"="+ fecha +"&";							 } else if (this.jsonData[i].data.xtype == 'numberfield'){								 valorporpiedades= valorporpiedades+field.getName() +"="+ field.getValue() +"&";							 } else if (this.jsonData[i].data.xtype == 'textfield'){								 valorporpiedades= valorporpiedades+field.getName() +"="+ field.getValue() +"&";							 } else if (this.jsonData[i].data.xtype == 'timefield'){								 valorporpiedades= valorporpiedades+field.getName() +"="+ field.getValue() +"&";							 }						}											}			}    	 }		 for(i = 0; i < items.length; i++){			 field = items[i];			 if ('exportType' == field.getName()){				  valorporpiedades = valorporpiedades + "&exportType="+field.getGroupValue();				  break;			 }		 }		return valorporpiedades;	},	getValueField:function(campo){		var fields = Ext.getCmp(this.id).getForm().getFields( ) ;		var valor = '';		var items = fields.items;		for(i = 0; i < items.length; i++){			field = items[i];			if (field!=undefined){				if ((field.getName()!=undefined) && (field.getName()==campo)){					valor= field.getValue();								}			}		}		return valor;	},	setUUIDIdRegistro:function(uuid,idregistro){		this.uuid=uuid;		this.idregistro = idregistro;	},	getCampoValor:function(){		return this.getForm().getFieldValues();	},	updateArrayField:function(jsonField){		this.jsonData = jsonField;	}	});